<div flex class="page-container" ng-controller="EditorCtrl as ctrl">
    <div flex="100" layout="row" style="padding:0px;background-color:#f6f6f6">

        <div layout-fill>
            <md-tabs md-dynamic-height md-border-bottom md-selected="ctrl.selectedTab">

                <md-tab ng-repeat="tab in ctrl.tabs"
                        label="{{tab.title}}"
                        md-on-select="ctrl.loadCurrentElements(tab.type)">
                    <md-tab-label>
                        {{tab.title}}
                        <md-icon md-svg-icon="navigation:ic_arrow_forward_24px"></md-icon>
                    </md-tab-label>

                </md-tab>

            </md-tabs>
        </div>
        <div flex="30" layout="row" layout-align="end center"
             style="padding-left:10px;font-size:14px;line-height:24px;border-bottom:1px solid #ccc">
            <md-button class="md-icon-button" ng-show="!ctrl.minimizedEditorStand" ng-click="ctrl.toggleEditorStand()">
                <i class="material-icons" style="color: rgb(63,81,181);">arrow_drop_up</i>
                <md-tooltip md-direction="top">
                    Hide
                </md-tooltip>
            </md-button>
            <md-button class="md-icon-button" ng-show="ctrl.minimizedEditorStand" ng-click="ctrl.toggleEditorStand()">
                <i class="material-icons" style="color: rgb(63,81,181);">arrow_drop_down</i>
                <md-tooltip md-direction="top">
                    Show
                </md-tooltip>
            </md-button>
        </div>
    </div>
    <div ng-show="!ctrl.minimizedEditorStand" style="background-color:#f6f6f6;padding:0px;border-bottom:1px solid #ccc">
        <div class="editorIconStandOptions" style="padding:0px;">
            <div flex="100" layout="row" layout-align="start start" style="padding-top:2px;padding-left:10px;">

                <div layout-align="start center" layout="row">
                    <div layout="row" style="margin-right: 5px">
                        <md-icon md-svg-icon="action:ic_search_24px" class="sp-darkblue-text"></md-icon>
                        <input type="text" ng-model="elName" placeholder="Find Element"
                               style="background-color:#f6f6f6;border: none;border-bottom: solid 2px #304269;">&nbsp;
                    </div>
                    <div layout="row">
                        <md-menu-bar>
                            <md-menu>
                                <button ng-click="$mdOpenMenu()" class="sp-darkblue-text">
                                    <md-icon md-svg-icon="action:ic_view_list_24px"
                                             class="sp-darkblue-text"></md-icon>
                                    Select categories
                                </button>
                                <md-menu-content>
                                    <md-menu-item class="md-indent">
                                        <md-icon md-svg-icon="action:ic_done_24px"
                                                 class="sp-darkblue-text"></md-icon>
                                        <md-button ng-click="ctrl.selectAllOptions()">&nbsp;Select all</md-button>
                                    </md-menu-item>
                                    <md-menu-item class="md-indent">
                                        <md-icon md-svg-icon="content:ic_clear_24px"
                                                 class="sp-darkblue-text"></md-icon>
                                        <md-button ng-click="ctrl.deselectAllOptions()">&nbsp;Deselect all</md-button>
                                    </md-menu-item>
                                    <md-menu-divider></md-menu-divider>
                                    <div ng-repeat="option in ctrl.options | orderBy: 'label'">
                                        <md-menu-item class="md-indent">
                                            <md-icon md-svg-icon="action:ic_visibility_24px"
                                                     class="sp-darkblue-text"
                                                     ng-if="ctrl.optionSelected(option)"></md-icon>
                                            <md-icon md-svg-icon="action:ic_visibility_off_24px"
                                                     class="sp-darkblue-text"
                                                     ng-if="!ctrl.optionSelected(option)"></md-icon>
                                            <md-button ng-click="ctrl.toggleFilter(option)">&nbsp;{{option.label}}
                                            </md-button>
                                        </md-menu-item>
                                    </div>
                                </md-menu-content>
                            </md-menu>
                        </md-menu-bar>
                    </div>
                </div>
            </div>
        </div>
        <div flex id="editor-icon-stand" class="icon-stand">
                <span my-data-bind image-bind="draggable" class="draggable-icon tt" ng-class="element.type"
                      data-target="testMenu" ng-if="element.type !== 'block'"
                      ng-repeat="element in ctrl.currentElements | filter: elName| filter: possibleFilter | filter: selectFilter | orderBy: 'name' "></span>

		<span ng-repeat="element in ctrl.currentElements |filter: elName | orderBy: 'name' " class="block tt"
              data-target="testMenu" ng-if="element.type == 'block'" my-data-bind>
			<div class="block-name tt">{{element.name}}</div>
			<div class="block-img-container" image-bind="block"></div>
		</span>
        </div>
    </div>
    <div>
        <div class="assemblyOptions sp-blue-bg">
            <div layout="row" layout-align="start center">
                <md-button ng-disabled="!ctrl.isValidPipeline()"
                           class="md-icon-button" ng-click="ctrl.submit()" type="submit">
                    <md-tooltip md-direction="top">
                        Submit Pipeline
                    </md-tooltip>
                    <i class="material-icons">save</i>
                </md-button>
                <md-button class="md-icon-button" ng-disabled="!ctrl.selectMode" ng-click="ctrl.toggleSelectMode()">
                    <md-tooltip md-direction="top">
                        Pan
                    </md-tooltip>
                    <i class="material-icons">open_with</i>
                </md-button>
                <md-button class="md-icon-button" ng-disabled="ctrl.selectMode" ng-click="ctrl.toggleSelectMode()">
                    <i class="material-icons">mode_edit</i>
                    <md-tooltip md-direction="top">
                        Select
                    </md-tooltip>
                </md-button>
                <md-button class="md-icon-button" ng-disabled="ctrl.currentZoomLevel == 1" ng-click="ctrl.zoomIn()">
                    <i class="material-icons">zoom_in</i>
                    <md-tooltip md-direction="top">
                        Zoom In
                    </md-tooltip>
                </md-button>
                <md-button class="md-icon-button" ng-disabled="ctrl.currentZoomLevel == 0.5" ng-click="ctrl.zoomOut()">
                    <i class="material-icons">zoom_out</i>
                    <md-tooltip md-direction="top">
                        Zoom Out
                    </md-tooltip>
                </md-button>
                <md-button class="md-icon-button" ng-click="ctrl.autoLayout()">
                    <i class="material-icons">settings_overscan</i>
                    <md-tooltip md-direction="top">
                        Auto Layout
                    </md-tooltip>
                </md-button>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="ctrl.showClearAssemblyConfirmDialog($event)">
                    <i class="material-icons">clear</i>
                    <md-tooltip md-direction="top">
                        Clear Assembly Area
                    </md-tooltip>
                </md-button>
            </div>
        </div>
        <div id="outerAssemblyArea" class="outerAssembly">

            <div id="assembly" class="canvas">
                <pipeline pipeline-model="ctrl.pipelineModel" all-elements="ctrl.allElements"></pipeline>
            </div>
        </div>
    </div>
</div>
