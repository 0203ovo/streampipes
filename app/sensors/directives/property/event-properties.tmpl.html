<div layout="column" flex="100" class="md-padding">
    <div layout="column" flex="100" ng-repeat="(key2, property) in properties track by $index">
        <collapsible list="properties" ctr="key2" title-label="'Property ' +(key2+1)"
                     disabled="disabled" removable="!disabled" subtitle="true" collapsible="true">
            <h5 class="md-subhead">Basics</h5>
            <div flex="100" layout="row" class="md-padding">
                <div flex="33">
                    <md-input-container style="width:100%">
                        <label>Label</label>
                        <input ng-model="property.properties.label" required ng-disabled="disabled">
                    </md-input-container>
                </div>
                <div flex="67">
                    <md-input-container style="width:100%">
                        <label>Description</label>
                        <input ng-model="property.properties.description" required ng-disabled="disabled">
                    </md-input-container>
                </div>
            </div>
            <md-divider style="border-top-color:rgba(63, 81, 181, 0.5)"></md-divider>
            <h5 class="md-subhead">Runtime Settings</h5>
            <div flex="100" layout-fill layout="row" class="md-padding">
                <div flex="33">
                    <md-input-container style="width:100%">
                        <label>Runtime Name</label>
                        <input ng-model="property.properties.runtimeName" required ng-disabled="disabled">
                    </md-input-container>
                </div>
                <div flex="33">
                    <datatype-property runtime-type="property.properties.runtimeType" dp-mode="capability"
                                       disabled="disabled"></datatype-property>
                </div>
                <div flex="33">
                    <domain-property property="property.properties.domainProperties[0]" disabled="disabled"></domain-property>
                </div>
            </div>
            <advanced-settings index="$index">
                <md-divider style="border-top-color:rgba(63, 81, 181, 0.5)"></md-divider>
                <h3 class="md-subhead">Measurement Unit</h3>
                <div flex="100" layout="row">
                    <measurement-unit disabled="disabled" property="property.properties.measurementUnit"
                                      style="width:100%;"></measurement-unit>
                </div>

                <md-divider style="border-top-color:rgba(63, 81, 181, 0.5)"></md-divider>
                <h3 class="md-subhead">Value Specification</h3>
                <div flex="100" layout="row">
                    <value-specification property="property.properties.valueSpecification"
                                         runtime-type="property.properties.runtimeType" disabled="disabled"
                                         style="width:100%;"></value-specification>
                </div>

                <md-divider style="border-top-color:rgba(63, 81, 181, 0.5)"></md-divider>
                <h3 class="md-subhead">Property qualities</h3>
                <div flex="100" layout="row">
                    <property-quality-definitions property="property.properties.eventPropertyQualities"
                                                  disabled="disabled"
                                                  style="width:100%"></property-quality-definitions>
                </div>
            </advanced-settings>
        </collapsible>
    </div>
    <div ng-if="properties.length == 0">No event properties configured yet.</div>
    <md-button class="md-accent" ng-disabled="disabled" ng-click="addProperty(properties)">Add Property</md-button>
</div>