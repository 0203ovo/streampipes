<div flex layout="row" layout-align="center center">
	<div class="md-whiteframe-z2" style="width:100%">
		<md-content class="md-padding">
		<h1>Knowledge Configurator</h1>
		<md-button class="md-accent" ng-click="openNamespaceDialog()">Manage Namespaces</md-button>
		<md-tabs md-border-bottom>
			<md-tab label="Properties"> 
				<md-button class="md-accent" ng-click="openAddElementDialog('Property')">Create Property</md-button>
				<div flex layout="row">
					<div flex-sm="30" flex-gt-sm="30" layout-sm="column">
						<div ui-tree data-drag-enabled="false">
						  <ol ui-tree-nodes="" ng-model="properties">
						    <li ng-repeat="item in properties" ui-tree-node>
						      <div ui-tree-handle class="tree-node tree-node-content" ng-click="loadPropertyDetails(item.id)">
						        <img ng-src="img/PROPERTY.png"> {{item.title}}
						      </div>
						    </li>
						  </ol>
						</div>
					</div>
					<div flex-sm="100" flex-gt-sm="80" layout-sm="column">
						<md-content class="md-padding" ng-show="propertySelected">
							<h3>{{propertyDetail.elementHeader.title}}</h3>
							<form name="propertyForm" ng-submit="updateProperty()" role="form">
								<md-input-container> <label>Label</label> <input
									type="text" ng-model="propertyDetail.rdfsLabel" required> </md-input-container>
								<md-input-container flex> <label>Description</label>
								<input type="text" ng-model="propertyDetail.rdfsDescription" required> </md-input-container>
								<md-divider></md-divider>
								<h4>Type Definition</h4>
								<div ng-show="propertyDetail.rangeDefined">
									<a ng-click="reset()">(Remove Type Definition)</a>
									<div ng-show="propertyDetail.range.rangeType === 'PRIMITIVE'">
									<h5>Primitive Property</h5>
										<md-radio-group ng-model="$parent.propertyDetail.range.rdfsDatatype" class="md-accent">
									          <md-radio-button ng-repeat="primitiveClass in primitiveClasses" ng-value="primitiveClass.id" ng-checked="$parent.propertyDetail.range.rdfsDatatype === primitiveClass.id">
									            <b>{{primitiveClass.title}}</b><br/>
									            {{primitiveClass.description}}
									          </md-radio-button>
									    </md-radio-group>
									</div>
									<div ng-show="propertyDetail.range.rangeType === 'QUANTITATIVE_VALUE'">
									<h5>Quantitative Value</h5>
									</div>
									<div ng-show="propertyDetail.rangeType === 'ENUMERATION'">
									<h5>Enumeration</h5>
										<md-input-container flex> <label>Minimum Value</label>
											<input type="text" ng-model="propertyDetail.range.minValue"> </md-input-container>
										<md-input-container flex> <label>Maximum Value</label>
											<input type="text" ng-model="propertyDetail.range.maxValue"> </md-input-container>
										<md-input-container flex> <label>Unit Code</label>
											<input type="text" ng-model="propertyDetail.range.unitCode"> </md-input-container>
									</div>
								
								</div>
								<div ng-show="!propertyDetail.rangeDefined">
									<div layout="column">
										<md-radio-group ng-model="$parent.selectedRangeType" class="md-accent">
								          <md-radio-button ng-repeat="rt in rangeTypes" ng-value="rt.rangeType">
								            <b>{{rt.title}}</b><br/>
								            {{rt.description}}
								          </md-radio-button>
									    </md-radio-group>
									    <md-button class="md-accent" ng-click="addTypeDefinition()" type="button">Add Type Definition</md-button>
									</div>
								</div>
								<md-divider></md-divider>
								<div class="form-actions">
								<md-button class="md-accent md-raised" type="submit"
									ng-disabled="propertyForm.$pristine || propertyForm.$invalid || loading">Save</md-button>
								<md-progress-circular class="md-accent" md-mode="indeterminate" ng-show="loading"></md-progress-circular>
									<div class="md-warn" ng-show="errorMessagePresent">
									      <h4>{{errorMessage}}</h4>
									</div>
								</div>
							</form>
						</md-content>
					</div>
				</div>
			</md-tab>
			<md-tab label="Concepts"> 
				<md-button class="md-accent" ng-click="openAddElementDialog('Concept')">Create Concept</md-button>
				<div flex layout="row">
					<div flex-sm="30" flex-gt-sm="40" layout-sm="column">
						<div ui-tree data-drag-enabled="false">
						  <ol ui-tree-nodes="" ng-model="concepts">
						    <li ng-repeat="item in concepts" ui-tree-node>
						    	<div ui-tree-handle class="tree-node tree-node-content" ng-click="loadConceptDetails(item.id)">
							    	<div flex="100" layout="row">
							        	<div flex="70" layout-align="start center"><img ng-src="img/CLASS.png"> <small>{{item.title}}</small></div>
							        	<div flex="30" layout-align="end center"><md-button  ng-click="openAddElementDialog('Instance', item.id)" class="md-icon-button"><md-icon md-svg-icon="content:ic_add_circle_outline_24px" aria-label="Add Instance"></md-icon></md-button></div>	 
									</div>
						      	</div>
						      	 <ol ui-tree-nodes="" ng-model="item.nodes">
								  	<li ng-repeat="node in item.nodes" ui-tree-node>
								          <div ui-tree-handle ng-click="loadInstanceDetails(node.id)">
								          	<div flex="70" layout-align="start center"><img ng-src="img/INSTANCE.png"> <small>{{node.title}}</small></div>
								          </div>
								    </li>
							   	</ol>
						    </li>
						  </ol>
						</div>
					</div>    
					<div flex-sm="100" flex-gt-sm="60" layout-sm="column" layout-align="start start">
						<md-content class="md-padding" ng-show="conceptSelected && !instanceSelected">
							<h3>{{conceptDetail.elementHeader.title}}</h3>
							<form name="conceptForm" ng-submit="updateConcept()" role="form">
								<md-input-container> <label>Label</label> <input
									type="text" ng-model="conceptDetail.rdfsLabel" required> </md-input-container>
								<md-input-container flex> <label>Description</label>
								<input type="text" ng-model="conceptDetail.rdfsDescription" required> </md-input-container>
								<md-divider></md-divider><p/>
								<h4>Properties</h4>
								
								<div ng-show="conceptDetail.domainProperties">
									<div ng-repeat="property in conceptDetail.domainProperties">
										<div class="md-whiteframe-z1 md-padding">
											<p><a ng-click="removePropertyFromClass(property)">(Remove this property)</a></p>
											<b>{{property.elementHeader.title}}</b>
											<p/>
											{{property.rdfsLabel}}<br/>
											<i>{{property.rdfsDescription}}</i>
										</div>
									</div>
								</div>
								<div ng-show="!conceptDetail.domainProperties">
									No properties present.
								</div>
								<md-divider></md-divider><p/>
								<h4>Add new Property</h4>
								<div layout="row">	 
							        <select ng-model="$parent.selectedClassProperty">
							          <option ng-repeat="property in properties" value="{{property.id}}">
							            {{property.title}}
							          </option>
							        </select>
							      <md-button class="md-accent" ng-click="addPropertyToClass()" type="button">Add Property</md-button>
							      </div>
							      <md-divider></md-divider>
								 <md-button class="md-accent md-raised" ng-click="storeClass()" type="submit">Save</md-button>	
							</form>
						</md-content>
						<md-content class="md-padding" ng-show="instanceSelected">
						
						<form name="instanceForm" ng-submit="updateInstance()" role="form">
								<md-input-container> <label>Label</label> <input
									type="text" ng-model="instanceDetail.rdfsLabel" required> </md-input-container>
								<md-input-container flex> <label>Description</label>
								<input type="text" ng-model="instanceDetail.rdfsDescription" required> </md-input-container>
								<md-divider></md-divider><p/>
								<h4>Properties</h4>
								
								<div ng-show="instanceDetail.domainProperties">
									<div ng-repeat="property in instanceDetail.domainProperties">
										<div class="md-whiteframe-z1 md-padding">
											
											<h4>{{property.elementHeader.title}}</h4>
											<p/>
											{{property.rdfsLabel}}<br/>
											<i>{{property.rdfsDescription}}</i>
										
										
										<div ng-show="property.range.rangeType === 'QUANTITATIVE_VALUE'">
											<h5>Quantitative Value</h5>
											<md-input-container flex> <label>Minimum Value</label>
												<input type="text" ng-model="propertyDetail.range.minValue"> </md-input-container>
											<md-input-container flex> <label>Maximum Value</label>
												<input type="text" ng-model="propertyDetail.range.maxValue"> </md-input-container>
											<md-input-container flex> <label>Unit Code</label>
												<input type="text" ng-model="propertyDetail.range.unitCode"> </md-input-container>
										</div>
										<div ng-show="property.range.rangeType === 'PRIMITIVE'">
											<b>Primitive Value </b><br/>
											({{property.range.rdfsDatatype}})
											<md-input-container flex> <label>Value</label>
												<input type="text" ng-model="propertyDetail.range.value"> </md-input-container>
										</div>
										<div ng-show="property.range.rangeType === 'ENUMERATION'">
											<h5>Enumeration</h5>
											
										</div>
										</div>
									</div>
								</div>
						
						
						
						
						</md-content>
					</div>
				</div>
			</md-tab>
		</md-content>
	</div>
</div>

