<div class="header" fxLayout="row" fxLayoutAlign="start center">
    <div  class="onhover" fxLayout="row" fxFlex="100">
        <div fxLayoutAlign="start" fxFlex="80">
            <b>
                {{getLabel()}}
            </b>
        </div>
        <div fxFlex="20" fxLayoutAlign="end">
            <button [disabled]="!isEditable" mat-button (click)=OnClickDeleteProperty()>
                <mat-icon>delete</mat-icon>
            </button>
            <button mat-button (click)=OnClickOpen()>
                <div *ngIf=open>
                    <mat-icon>expand_less</mat-icon>
                </div>
                <div *ngIf=!open>
                    <mat-icon>expand_more</mat-icon>
                </div>
            </button>
        </div>
    </div>
</div>
<div class="divBorder" [hidden]=!open>
    <app-event-property [(property)]="property" [domainPropertyGuess]="domainPropertyGuess"></app-event-property>


    <mat-form-field class="doubleWidth">
        <mat-select placeholder="Runtime Type" [(ngModel)]="property.runtimeType">
            <mat-option *ngFor="let dataType of runtimeDataTypes" [value]="dataType.url">
                {{ dataType.label }}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <!-- TODO FIX this -->
    <!--<form [formGroup]="propertyPrimitivForm " novalidate>-->
    <!--<div fxLayout="row" fxLayoutAlign="start">-->
    <!--<div class="form-group">-->
    <!--<select class="form-controll" formControlName="dataType">-->
    <!--<mat-error *ngIf="propertyForm.controls['dataType'].errors?.required && propertyForm.controls['dataType'].touched">-->
    <!--DataTypey is <strong>required</strong>-->
    <!--</mat-error>-->
    <!--<option *ngFor="let dataType of dataTypes" [value]="dataType">{{dataType}}</option>-->
    <!--</select>-->
    <!--</div>-->
    <!--</div>-->
    <!---->
    <!--</form>-->


    <div fxLayout="row" fxLayoutAlign="start">
        <div class="form-group" fxFlexAlign="center" style="width: 155px">
            <mat-form-field   *ngIf="!hadMesarumentUnit" class="example-full-width" style="width: 155px">
                <input matInput placeholder="Unit" [matAutocomplete]="auto" [formControl]="stateCtrl" [attr.disabled]="transformUnitEnable ? '' : null">
                <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
                    <mat-option *ngFor="let unit of filteredUnits | async" [value]="unit.label">
                        <span [matTooltip]="unit.label">{{unit.label}}</span>
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
            <mat-form-field *ngIf="hadMesarumentUnit" class="example-full-width" style="width: 155px">
                <input matInput placeholder="Unit" disabled [(ngModel)]="oldMeasurementUnitDipsplay">
            </mat-form-field>

        </div>
             <button mat-button [disabled]="!isEditable" (click)="transformUnit()" color="primary"  class="form-group" fxFlexAlign="center" style="min-width: 60px; max-width: 60px">
                <mat-icon *ngIf="!transformUnitEnable">arrow_forward</mat-icon>
                <mat-icon *ngIf="transformUnitEnable" style="transform: rotate(180deg)">arrow_forward</mat-icon>
             </button>
        <mat-form-field class="example-full-width" style="width: 155px" *ngIf="transformUnitEnable">
            <mat-select [disabled]="!isEditable" placeholder="New Unit" [(value)]="selectUnit">
                <mat-option *ngFor="let unit of possibleUnitTransformations" [value]="unit" (click)="changeTargetUnit(unit)">
                    {{unit.label}}
                </mat-option>
            </mat-select>
        </mat-form-field>

    </div>

    <mat-form-field *ngIf="staticValueAddedByUser()" class="doubleWidth">
        <input matInput placeholder="Static Value" name="static_value" id="static_value" [matAutocomplete]="auto" [(ngModel)]="property.staticValue">
    </mat-form-field>

</div>


