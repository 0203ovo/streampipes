<div style="width: 100%; height: 500px">
    <!-- error message -->
    <div *ngIf="(displayData === undefined || _yAxesKeys === undefined) && isLoadingData == false" fxLayout="column" fxLayoutAlign="space-around center" style="margin-top: 30px">
        <mat-icon style="font-size: 70px; height: 70px; width: 70px;">
            clear
        </mat-icon>
        <h3 *ngIf="displayData === undefined && isLoadingData == false">No Data Found</h3>
        <h3 *ngIf="_yAxesKeys === undefined && isLoadingData == false">Select Data</h3>
    </div>

    <!-- loading -->
    <div *ngIf="isLoadingData" fxLayout="column" fxLayoutAlign="space-around center" >
        <div  fxLayout="row" fxLayoutAlign="center center" style="margin-top: 30px">
            <mat-spinner></mat-spinner>
        </div>
        <div  fxLayout="row" fxLayoutAlign="center center" style="margin-top: 30px">
            <h3>Loading Data</h3>
        </div>
    </div>


    <!-- chart header -->
    <div fxLayout="row" fxLayoutAlign="space-between center"  *ngIf="displayData != undefined && isLoadingData == false" style="height: 60px">
        <!-- left button + date -->
        <div>
            <div *ngIf="enablePaging">
                <button mat-icon-button (click)="clickFirstPage()">
                    <mat-icon>first_page</mat-icon>
                </button>
                <button mat-icon-button (click)="clickPreviousPage()">
                    <mat-icon>chevron_left</mat-icon>
                </button>
                <label>{{displayData[0].series[0].name | date:'dd.yyyy.MM HH:mm:ss'}} </label>
            </div>
            <label *ngIf="!enablePaging" style="margin-left: 10px">{{displayData[0].series[0].name | date:'dd.yyyy.MM HH:mm:ss'}} </label>
        </div>

        <!-- page -->
        <div *ngIf="currentPage !== undefined">
            Page: <label>{{currentPage}} </label>
            <label *ngIf="maxPage !== undefined"> - {{maxPage}}</label>
        </div>

        <!-- items per page -->
        <div *ngIf="enableItemsPerPage" matTooltip="Items per page">
            <mat-form-field style="width: 70px; margin-top: 10px;" >
                <mat-label>Items per page</mat-label>
                <mat-select [(ngModel)]="itemsPerPage" (valueChange)="selectItemsPerPage($event)">
                    <mat-option [value]=50 style="background-color: #FFFFFF">
                        50
                    </mat-option>
                    <mat-option [value]=100 style="background-color: #FFFFFF">
                        100
                    </mat-option>
                    <mat-option [value]=200 style="background-color: #FFFFFF">
                        200
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <!-- right button + date -->
        <div>
            <div *ngIf="enablePaging">
                <label>{{displayData[0].series[ displayData[0].series.length - 1].name | date:'dd.yyyy.MM HH:mm:ss'}} </label>
                <button  mat-icon-button (click)="clickNextPage()">
                    <mat-icon>chevron_right</mat-icon>
                </button>
                <button mat-icon-button (click)="clickLastPage()">
                    <mat-icon>last_page</mat-icon>
                </button>
            </div>
            <label *ngIf="!enablePaging" style="margin-right: 10px">{{displayData[0].series[ displayData[0].series.length - 1].name | date:'dd.yyyy.MM HH:mm:ss'}} </label>
        </div>
    </div>

    <!-- Chart -->
    <ngx-charts-line-chart flex
            *ngIf="displayData != undefined && isLoadingData == false"
            [results]="displayData"
            [gradient]="false"
            [xAxis]="true"
            [yAxis]="true"
            [legend]="false"
            [showXAxisLabel]="true"
            [showYAxisLabel]="true"
            [xAxisLabel]="_xAxesKey"
            [yAxisLabel]="_yAxesKeys"
            [autoScale]="true"
            [timeline]="true"
            (select)="onSelect($event)">
    </ngx-charts-line-chart>


</div>

