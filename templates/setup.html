<div flex layout-fill>
	<div flex="100" layout="column" style="padding:0px;background-color:#f6f6f6">
		<div flex layout-fill layout="row" layout-align="start center" style="height:48px;padding-left:10px;font-size:14px;line-height:24px;border-bottom:1px solid #ccc">
			<h5>SETUP</h5>
		</div>
	</div>
	<div flex layout="row" layout-align="center center">
		<div flex-sm="100" flex-gt-sm="90" flex-gt-md="70" flex-gt-lg="50"
			class="md-whiteframe-z2" style="padding:10px;">

			<h1>StreamPipes Setup</h1>

			<h4>Welcome!</h4>

			<p/>
				<md-divider/>
					<md-content layout-padding>
						<div ng-show="!installationFinished">
							<form name="setupForm" role="form" ng-submit="configure()" >
								<h3>Initial User</h3>
								<div layout layout-sm="column">
									<md-input-container flex>
										<label>Email</label>
										<input ng-model="setup.adminEmail">
									</md-input-container>
									<md-input-container flex>
										<label>Username</label>
										<input ng-model="setup.adminUsername">
									</md-input-container>
									<md-input-container flex>
										<label>Password</label>
										<input type="password" ng-model="setup.adminPassword">
									</md-input-container>
								</div>
							</div>
							<md-divider/>
								<div>
									<div ng-show="showAdvancedSettings">
										<div flex layout="column">
											<h3>Advanced Settings</h3>
											<div layout layout-sm="column">
												<md-input-container flex>
													<label>CouchDB Host</label>
													<input ng-model="setup.couchDbHost">
												</md-input-container>
												<md-input-container flex>
													<label>Sesame Host</label>
													<input ng-model="setup.sesameHost">
												</md-input-container>

											</div>
											<div layout layout-sm="column">
												<md-input-container flex>
													<label>Kafka Host</label>
													<input ng-model="setup.kafkaHost">
												</md-input-container>
												<md-input-container flex>
													<label>Zookeeper Host</label>
													<input ng-model="setup.zookeeperHost">
												</md-input-container>
											</div>
											<div layout layout-sm="column">
												<md-input-container flex>
													<label>JMS Host</label>
													<input ng-model="setup.jmsHost">
												</md-input-container>
											</div>
										</div>
									</div>


									<div flex layout="column">

										<div class="form-actions">
											<div layout layout-sm="column">
												<md-button ng-show="!showAdvancedSettings" ng-click="showAdvancedSettings = !showAdvancedSettings" class="md-raised">Show Advanced Settings</md-button>
												<md-button ng-show="showAdvancedSettings" ng-click="showAdvancedSettings = !showAdvancedSettings" class="md-raised">Hide Advanced Settings</md-button>
												<md-button class="md-accent md-raised" type="submit"
													ng-disabled="setupForm.$pristine || setupForm.$invalid || loading">Install</md-button>
												<md-progress-circular class="md-accent" md-mode="indeterminate" ng-show="loading"></md-progress-circular>
											</div>
										</form>
									</div>
									<div ng-show="installationFinished">
										<h3>Installation Results</h3>
										<div ng-repeat="msg in installationResults">
											<div flex layout layout-sm="row" style="width:80%" class="center center">
												<div style="width:50%"><h4>{{msg.notifications[0].title}}</h4></div>
												<div style="width:50%">
													<md-icon md-svg-icon="action:ic_done_24px" aria-label="Action" class="md-accent" style="width: 36px; height: 36px" ng-show="msg.success"></md-icon>
													<md-icon md-svg-icon="alert:ic_error_24px" aria-label="Action" class="md-accent" style="width: 36px; height: 36px" ng-show="!(msg.success)"></md-icon>
												</div>
											</div>
										</div>
										<p/>
											<h3><a ui-sref="login" class="md-accent"><md-icon md-svg-icon="navigation:ic_arrow_forward_24px" aria-label="Action" class="md-accent" style="width: 36px; height: 36px"></md-icon>Go to login page</a></h3>
										</div>
									</md-content>
								</div>
							</div>
						</div>
