<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one or more
  ~ contributor license agreements.  See the NOTICE file distributed with
  ~ this work for additional information regarding copyright ownership.
  ~ The ASF licenses this file to You under the Apache License, Version 2.0
  ~ (the "License"); you may not use this file except in compliance with
  ~ the License.  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->

<div flex="100" layout="column" layout-align="start start"
     style="padding:5px;border:1px solid darkblue;margin-bottom:10px;background:{{ctrl.getSelectedBackground(endpointItem)}}"
     ng-click="ctrl.toggleSelected(endpointItem)">
    <div flex="100" layout-align="start start" class="{{ctrl.getItemStyle(endpointItem.type)}}">{{ctrl.getItemTitle(endpointItem.type)}}</div>
    <div flex="100" style="width:100%;" layout="row" layout-align="start center">
        <div flex="20" layout="row" style="margin:10px;">
            <div class="draggable-icon {{endpointItem.type}}">{{ctrl.iconText(endpointItem.name)}}</div>
        </div>
        <div flex="80" layout="row" layout-align="start center" style="margin:10px;">
            <div flex="100" layout="column">
                <div layout="column">
                    <div flex layout="column">
                        <h2 class="md-title">{{endpointItem.name}}</h2>
                        <p>{{endpointItem.description}}</p>
                        <div flex layout="column" ng-if="endpointItem.type=='source'">
                            <h4>Data streams included in this source</h4>
                            <div flex layout="row" layout-align="start center" ng-repeat="stream in endpointItem.streams">
                                <div flex="10" style="min-height:60px;">
                                    <div class="draggable-icon-preview stream" style="margin-right:10px;">
                                        {{ctrl.iconText(stream.name)}}
                                    </div>
                                </div>
                                <div flex="90" style="min-height:60px;margin-left:10px;">
                                    <h5><b>{{stream.name}}</b></h5>
                                    <p>{{stream.description}}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div flex="100" layout="row" layout-align="end end">
                    <div flex layout="row" layout-align="end end">
						<span flex flex-order="1" layout="row" layout-align="end end" ng-if="!endpointItem.installed">
							<sp-button sp-button-blue aria-label="Install"
                                       ng-click="ctrl.installSingleElement(endpointItem)">
                                <i class="material-icons">
                                    cloud_download
                                </i>
								Install&nbsp;&nbsp;
							</sp-button>
						</span>
                        <span flex flex-order="1" layout="row" layout-align="end end" ng-if="endpointItem.installed">
	  						<md-progress-circular md-mode="indeterminate" class="md-accent"
                                                  ng-show="uninstalling"></md-progress-circular>
							<sp-button sp-button-blue aria-label="Uninstall"
                                       ng-click="ctrl.uninstallSingleElement(endpointItem)">
								<i class="material-icons">
                                    delete
                                </i>&nbsp;&nbsp; Uninstall&nbsp;&nbsp;
							</sp-button>
						</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>