<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one or more
  ~ contributor license agreements.  See the NOTICE file distributed with
  ~ this work for additional information regarding copyright ownership.
  ~ The ASF licenses this file to You under the Apache License, Version 2.0
  ~ (the "License"); you may not use this file except in compliance with
  ~ the License.  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->

<div id="formWrapper" fxFlex="100" fxLayout="row">
    <div fxFlex fxLayout="row">
        <form fxFlex>

            <mat-form-field style="width: 95%" (click)="fileInput.click();">
                <input  matInput placeholder="{{staticProperty.label}}" disabled (value)="fileName">
                <input #fileInput type="file" style="display:none;"
                       (change)="handleFileInput($event.target.files)">
                <div>
                    {{fileName}}
                    <mat-progress-bar mode="determinate" value="{{uploadStatus}}" *ngIf="uploadStatus > 0"></mat-progress-bar>
                </div>


                <button color="primary" matSuffix
                        mat-button style="min-width: 0px">
                    <mat-icon *ngIf="uploadStatus < 99">insert_drive_file</mat-icon>
                    <mat-icon *ngIf="uploadStatus == 100" class="green-icon">check_circle</mat-icon>
                </button>

                <mat-error *ngIf="!hasInput">
                    {{errorMessage}}
                </mat-error>

            </mat-form-field>
        </form>
        <!--<div fxLayoutAlign="center none">-->
        <div>
            <button color="primary" mat-raised-button (click)="upload()">
                Upload
            </button>
        </div>

    </div>

</div>