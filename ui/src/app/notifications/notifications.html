<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one or more
  ~ contributor license agreements.  See the NOTICE file distributed with
  ~ this work for additional information regarding copyright ownership.
  ~ The ASF licenses this file to You under the Apache License, Version 2.0
  ~ (the "License"); you may not use this file except in compliance with
  ~ the License.  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->

<div flex class="page-container page-container-padding" ng-controller="NotificationsCtrl as ctrl">
    <div flex="100" layout="row" style="padding:0px;background-color:#f6f6f6">
    </div>
    <div flex layout="column" layout-fill>
        <md-content>
            <section>
                <md-subheader class="md-primary">Unread Messages</md-subheader>
                <md-list layout-padding>
                    <md-list-item class="md-3-line" ng-repeat="notification in ctrl.unreadNotifications">
                        <sp-button sp-button-flat class="md-icon-button" ng-click="changeNotificationStatus(notification._id)">
                            <i class="material-icons" style="color: rgb(63,81,181);">markunread</i>
                            <md-tooltip md-direction="top">
                                Mark as unread
                            </md-tooltip>
                        </sp-button>
                        <div class="md-list-item-text" style="margin-bottom:10px;margin-top:10px;">
                            <h3><b>{{notification.title}}</b></h3>
                            <div layout="row" layout-align="start center" style="margin-bottom:5px;">
                                <div layout="row" layout-align="start center"><i class="material-icons" style="color: rgb(63,81,181);">access_time</i>
                                    &nbsp;{{notification.createdAt | date:'dd.MM.yyyy HH:mm'}}&nbsp;
                                    <i class="material-icons" style="color: rgb(63,81,181);">person</i>&nbsp;{{notification.targetedUser}}
                                </div>
                            </div>
                            <div class="speech-bubble sp-blue-100-border" ng-bind-html="notification.message">
                            </div>
                            <md-divider></md-divider>
                        </div>
                    </md-list-item>
                </md-list>
            </section>
            <section>
                <md-subheader class="md-primary">All Messages</md-subheader>
                <md-list layout-padding>
                    <md-list-item class="md-3-line" ng-repeat="notification in ctrl.notifications">

                        <div class="md-list-item-text" style="margin-bottom:10px;margin-top:10px;">
                            <h3><b>{{notification.title}}</b></h3>
                            <div layout="row" layout-align="start center" style="margin-bottom:5px;">
                                <div layout="row" layout-align="start center"><i class="material-icons" style="color: rgb(63,81,181);">access_time</i>
                                    &nbsp;{{notification.createdAt | date:'dd.MM.yyyy HH:mm'}}&nbsp;
                                    <i class="material-icons" style="color: rgb(63,81,181);">person</i>&nbsp;{{notification.targetedUser}}
                                </div>
                            </div>
                            <div class="speech-bubble" ng-bind-html="notification.message">
                            </div>
                            <md-divider></md-divider>
                        </div>
                    </md-list-item>
                </md-list>
            </section>
        </md-content>
        </md-whiteframe>
    </div>
</div>